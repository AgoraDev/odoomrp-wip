<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

    <!-- Vista tree -->

        <record model="ir.ui.view" id="product_expiry_tree_view">
			<field name="name">product.expiry.tree.view</field>
			<field name="model">stock.production.lot</field>
			<field name="inherit_id" ref="stock.view_production_lot_tree" />
			<field name="arch" type="xml">
                <xpath expr="//tree" position="attributes">
					<attribute name="colors">orange:expiry_state in 'alert' ;blue:expiry_state in 'to_remove' ;red:expiry_state in 'expired' </attribute>
				</xpath>
                    <field name="name" position="before">
                        <field name="life_date" />
                        <field name="use_date" />
                        <field name="removal_date" />
                        <field name="alert_date" />
                        <field name="expiry_state" />
                    </field>
			</field>
		</record>

    <!-- Vista search -->

        <record model="ir.ui.view" id="product_expiry_search_view">
			<field name="name">product_expiry_search_view</field>
			<field name="model">stock.production.lot</field>
			<field name="inherit_id" ref="stock.search_product_lot_filter" />
			<field name="arch" type="xml">
				<xpath expr="//search/group/filter[@string='Product']" position="after">
					<filter string="Life date" domain="[]" context="{'group_by':'life_date'}"/>
                    <filter string="Use date" domain="[]" context="{'group_by':'use_date'}"/>
                    <filter string="Removal date" domain="[]" context="{'group_by':'removal_date'}"/>
                    <filter string="Alert date" domain="[]" context="{'group_by':'alert_date'}"/>
				</xpath>
			</field>
		</record>

    </data>
</openerp>
